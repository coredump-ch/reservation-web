<!-- doctype html -->
<html lang="en" ng-app="reservationsApp">
<head>

    <title>Ultimaker Reservationen</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- vendor scripts -->
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-messages/angular-messages.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.min.js"></script>
    <script src="bower_components/moment/min/moment.min.js"></script>
    <script src="bower_components/moment-precise-range/readable-range.js"></script>
    <script src="bower_components/angular-moment/angular-moment.min.js"></script>

    <!-- own scripts -->
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/services.js"></script>
    <script src="js/filters.js"></script>

    <!-- vendor styles -->
    <link rel="stylesheet" type="text/css" href="bower_components/normalize-css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-flatly.min.css">

    <!-- own styles -->
    <link rel="stylesheet" type="text/css" href="css/app.css">

</head>
<body>
    <div id="wrapper" class="container">

    <h1>Ultimaker Reservationen</h1>

    <p>Mit diesem Tool kannst du als Mitglied den 3D-Drucker im <a href="https://www.coredump.ch/">Coredump</a> reservieren.</p>

    <div class="row">

        <div class="col-sm-8" ng-controller="ReservationListCtrl">

            <h2>Aktive Reservationen</h2>

            <div ng-include="'templates/errors.html'"></div>

            <table class="table table-striped table-hover">
                <tr>
                    <th>Start</th>
                    <th>Dauer</th>
                    <th>Ende</th>
                    <th>Name</th>
                </tr>
                <tr ng-repeat="res in reservationList.reservations">
                    <td title="{{ res.start }}">{{ res.start | amDifference : null : "minutes" | amDurationFormat : "minute" : true }}</td>
                    <td>{{ res.start | humanizedDiff : res.end }}</td>
                    <td title="{{ res.end }}">{{ res.end | amDifference : null : "minutes" | amDurationFormat : "minute" : true }}</td>
                    <td>{{ res.owner }}</td>
                </tr>
            </table>

        </div>
        <div class="col-sm-4" ng-controller="ReservationAddCtrl">

            <h2>Neue Reservation</h2>

            <div class="alert alert-success fade" ng-show="showSuccessMessage">Reservation gespeichert!</div>

            <div ng-include="'templates/errors.html'"></div>

            <form class="form" role="form" ng-submit="addReservation()">
                <div class="form-group">
                    <label for="owner" class="control-label">Name</label>
                    <input id"owner" ng-model="reservation.owner" class="form-control">
                </div>
                <div class="form-group">
                    <label for="start" class="control-label">Beginn</label>
                    <input id="start" ng-model="reservation.start" class="form-control" type="datetime-local">
                </div>
                <div class="form-group">
                    <label for="end" class="control-label">Dauer (h)</label>
                    <input id="end" ng-model="reservation.duration"  class="form-control" type="number" min="0" max="48" step="0.25" value="1">
                </div>
                <div class="form-group">
                    <button class="btn btn-primary">Go!</button>
                </div>
            </form>

        </div>
    </div>

    </div>

</body>
</html>
